(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{203:function(e,t){},327:function(e,t,a){"use strict";a.r(t);var c=a(9),n=a(0),r=a.n(n),o=a(27),s=a.n(o),i=(a(175),a(30)),j=a(334),u=function(e){var t=e.icon,a=e.text;return Object(c.jsxs)(j.b,{children:[r.a.createElement(t),a]})},l=function(e){var t=["magenta","red","orange","gold","lime","green","cyan","blue","volcano"];return e<10?t[e]:t[e%10]},b=a(335),d=function(e){var t=e.tags;return Object(c.jsx)("div",{children:t.map((function(e,t){return Object(c.jsx)(b.a,{color:l(t),children:e},e)}))})},O=a(330),h=a(331),p=a(336),g=a(337),x=a(139),f=function(e){var t=e.title,a=e.description,n=e.points,r=e.num_comments,o=e.url,s=e.story_text,i=e._tags;return Object(c.jsxs)(O.b.Item,{actions:[Object(c.jsx)(u,{text:n,icon:p.a},"star-two-tone-icon"),Object(c.jsx)(u,{text:r,icon:g.a},"message-two-tone-icon"),Object(c.jsx)(d,{tags:i},"tag-group")],children:[Object(c.jsx)(O.b.Item.Meta,{title:Object(c.jsx)("a",{href:o,rel:"noreferrer",target:"_blank",children:t}),description:a}),Object(c.jsx)(h.a.Paragraph,{ellipsis:{rows:3,expandable:!0,symbol:"more"},children:Object(x.htmlToText)(s)})]},t)},y=a(166),v="story",m="LOADING",w="RESPONSE_COMPLETE",P="ERROR",E="UPDAT_KEYWORDS",S="UPDATE_PAGE",C=Object(n.createContext)(),K={searchKeywords:"",hits:[],loading:!0,error:null,page:1,hitsTotal:1e3},T=function(e,t){var a=t.type,c=t.payload;switch(a){case m:return Object(i.a)(Object(i.a)({},e),{},{hits:null,loading:!0,error:null});case w:return Object(i.a)(Object(i.a)(Object(i.a)({},e),c),{},{loading:!1,error:null});case P:return Object(i.a)(Object(i.a)({},e),{},{hits:null,loading:!1,error:c.error});case E:return Object(i.a)(Object(i.a)({},e),{},{searchKeywords:c.searchKeywords});case S:return Object(i.a)(Object(i.a)({},e),{},{page:c.page});default:return Object(i.a)({},e)}},k=function(e){var t=e.children,a=Object(n.useReducer)(T,K),r=Object(y.a)(a,2),o=r[0],s=r[1],j=o.searchKeywords,u=o.page;Object(n.useEffect)((function(){s({type:m}),fetch(function(e,t,a){var c=t?"page=".concat(t-1):"",n=e||"",r=a?"tags=".concat(a):"";return"".concat("https://hn.algolia.com/api/v1/").concat("search","?query=").concat(n,"&").concat(r,"&").concat(c)}(j,u,v)).then((function(e){return e.json()})).then((function(e){var t=e.hits,a=e.hitsPerPage,c=e.nbPages;s({type:w,payload:{hits:t,hitsTotal:a*c}})})).catch((function(e){s({type:P,payload:{error:e}})}))}),[j,u]);var l=Object(n.useCallback)((function(e){s({type:E,payload:{searchKeywords:e}})}),[s]),b=Object(n.useCallback)((function(e){s({type:S,payload:{page:e}})}),[s]),d=Object(i.a)(Object(i.a)({},o),{},{updateSearchKeywords:l,updatePage:b});return Object(c.jsx)(C.Provider,{value:d,children:t})},_=function(){var e=Object(n.useContext)(C),t=e.hits,a=e.hitsTotal,r=e.updatePage,o={pageSize:20,position:"both",total:a,onChange:function(e){r(e)}};return Object(c.jsx)(O.b,{itemLayout:"vertical",size:"large",pagination:o,dataSource:t,renderItem:function(e){return Object(c.jsx)(f,Object(i.a)({},e))}})},R=a(332),A=function(){var e=Object(n.useContext)(C).updateSearchKeywords;return Object(c.jsx)(R.a.Search,{placeholder:"input search text",size:"large",onSearch:function(t){e(t)},enterButton:!0})},I=a(333),z=a(148),D={padding:"0 10%"},L=function(){var e=Object(n.useContext)(C).loading,t=I.a.Header,a=I.a.Content;return Object(c.jsxs)(I.a,{children:[Object(c.jsx)(t,{children:Object(c.jsx)(A,{})}),Object(c.jsx)(a,{style:D,children:e?Object(c.jsx)(z.a,{size:"large"}):Object(c.jsx)(_,{})})]})},M=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(L,{})})};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(k,{children:Object(c.jsx)(M,{})})}),document.getElementById("root"))}},[[327,1,2]]]);
//# sourceMappingURL=main.7a88fcff.chunk.js.map