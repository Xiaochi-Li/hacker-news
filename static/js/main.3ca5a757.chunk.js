(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{202:function(e,t){},326:function(e,t,a){"use strict";a.r(t);var r=a(9),c=a(0),n=a.n(c),o=a(27),s=a.n(o),i=(a(174),a(30)),j=a(333),u=function(e){var t=e.icon,a=e.text;return Object(r.jsxs)(j.b,{children:[n.a.createElement(t),a]})},l=function(e){var t=["magenta","red","orange","gold","lime","green","cyan","blue","volcano"];return e<10?t[e]:t[e%10]},b=a(334),d=function(e){var t=e.tags;return Object(r.jsx)("div",{children:t.map((function(e,t){return Object(r.jsx)(b.a,{color:l(t),children:e},e)}))})},h=a(329),O=a(330),p=a(335),g=a(336),x=a(139),f=function(e){var t=e.title,a=e.description,c=e.points,n=e.num_comments,o=e.url,s=e.story_text,i=e._tags;return Object(r.jsxs)(h.b.Item,{actions:[Object(r.jsx)(u,{text:c,icon:p.a},"star-two-tone-icon"),Object(r.jsx)(u,{text:n,icon:g.a},"message-two-tone-icon"),Object(r.jsx)(d,{tags:i},"tag-group")],children:[Object(r.jsx)(h.b.Item.Meta,{title:Object(r.jsx)("a",{href:o,rel:"noreferrer",target:"_blank",children:t}),description:a}),Object(r.jsx)(O.a.Paragraph,{ellipsis:{rows:3,expandable:!0,symbol:"more"},children:Object(x.htmlToText)(s)})]},t)},y=a(165),v="story",m="RESPONSE_COMPLETE",w="ERROR",P="UPDAT_KEYWORDS",E="UPDATE_PAGE",S=Object(c.createContext)(),C={searchKeywords:"",hits:[],loading:!0,error:null,page:1,hitsTotal:1e3},K=function(e,t){var a=t.type,r=t.payload;switch(a){case"LOADING":return Object(i.a)(Object(i.a)({},e),{},{hits:null,loading:!0,error:null});case m:return Object(i.a)(Object(i.a)(Object(i.a)({},e),r),{},{loading:!0,error:null});case w:return Object(i.a)(Object(i.a)({},e),{},{hits:null,loading:!1,error:r.error});case P:return Object(i.a)(Object(i.a)({},e),{},{searchKeywords:r.searchKeywords});case E:return Object(i.a)(Object(i.a)({},e),{},{page:r.page});default:return Object(i.a)({},e)}},T=function(e){var t=e.children,a=Object(c.useReducer)(K,C),n=Object(y.a)(a,2),o=n[0],s=n[1],j=o.searchKeywords,u=o.page;Object(c.useEffect)((function(){fetch(function(e,t,a){var r=t?"page=".concat(t-1):"",c=e||"",n=a?"tags=".concat(a):"";return"".concat("https://hn.algolia.com/api/v1/").concat("search","?query=").concat(c,"&").concat(n,"&").concat(r)}(j,u,v)).then((function(e){return e.json()})).then((function(e){var t=e.hits,a=e.hitsPerPage,r=e.nbPages;s({type:m,payload:{hits:t,hitsTotal:a*r}})})).catch((function(e){s({type:w,payload:{error:e}})}))}),[j,u]);var l=Object(c.useCallback)((function(e){s({type:P,payload:{searchKeywords:e}})}),[s]),b=Object(c.useCallback)((function(e){s({type:E,payload:{page:e}})}),[s]),d=Object(i.a)(Object(i.a)({},o),{},{updateSearchKeywords:l,updatePage:b});return Object(r.jsx)(S.Provider,{value:d,children:t})},k=function(){var e=n.a.useContext(S),t=e.hits,a=e.hitsTotal,c=e.updatePage,o={pageSize:20,position:"both",total:a,onChange:function(e){c(e)}};return Object(r.jsx)(h.b,{itemLayout:"vertical",size:"large",pagination:o,dataSource:t,renderItem:function(e){return Object(r.jsx)(f,Object(i.a)({},e))}})},_=a(331),R=function(){var e=n.a.useContext(S).updateSearchKeywords;return Object(r.jsx)(_.a.Search,{placeholder:"input search text",size:"large",onSearch:function(t){e(t)},enterButton:!0})},A=a(332),I={padding:"0 10%"},D=function(){var e=A.a.Header,t=A.a.Footer,a=A.a.Content;return Object(r.jsxs)(A.a,{children:[Object(r.jsx)(e,{children:Object(r.jsx)(R,{})}),Object(r.jsx)(a,{style:I,children:Object(r.jsx)(k,{})}),Object(r.jsx)(t,{children:"Footer"})]})},z=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(D,{})})};s.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(T,{children:Object(r.jsx)(z,{})})}),document.getElementById("root"))}},[[326,1,2]]]);
//# sourceMappingURL=main.3ca5a757.chunk.js.map